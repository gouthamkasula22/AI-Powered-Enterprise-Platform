2025-09-09 03:45:06,154 - main - INFO - Environment: development
2025-09-09 03:45:06,155 - main - INFO - Debug mode: True
2025-09-09 03:45:06,199 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-09 03:45:06,200 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 03:45:06,203 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-09 03:45:06,203 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 03:45:06,206 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-09 03:45:06,206 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 03:45:06,210 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 03:45:06,211 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-09 03:45:06,212 - sqlalchemy.engine.Engine - INFO - [generated in 0.00089s] ()
2025-09-09 03:45:06,215 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-09 03:45:06,216 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ()
2025-09-09 03:45:06,226 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-09 03:45:06,227 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-09 03:45:06,236 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 03:45:06,237 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-09 03:45:50,348 - app.middleware.auth - INFO - Request completed: GET /docs - Status: 200 - Time: 0.000s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.103.2 Chrome/138.0.7204.100 Electron/37.2.3 Safari/537.36
2025-09-09 03:45:58,406 - app.core.database - ERROR - Failed to get database stats: 'AsyncAdaptedQueuePool' object has no attribute 'invalid'
2025-09-09 03:45:58,407 - app.core.database - INFO - Closing database connections. Final pool stats: {}
2025-09-09 03:50:57,657 - main - INFO - Environment: development
2025-09-09 03:50:57,657 - main - INFO - Debug mode: True
2025-09-09 03:50:57,698 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-09 03:50:57,699 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 03:50:57,702 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-09 03:50:57,702 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 03:50:57,705 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-09 03:50:57,705 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 03:50:57,708 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 03:50:57,709 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-09 03:50:57,709 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ()
2025-09-09 03:50:57,713 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-09 03:50:57,713 - sqlalchemy.engine.Engine - INFO - [generated in 0.00072s] ()
2025-09-09 03:50:57,724 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-09 03:50:57,725 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-09 03:50:57,734 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 03:50:57,734 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-09 03:51:00,786 - app.middleware.auth - INFO - Request completed: GET /docs - Status: 200 - Time: 0.001s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-09 03:51:01,201 - app.middleware.auth - INFO - Request completed: GET /openapi.json - Status: 200 - Time: 0.014s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-09 03:53:36,382 - app.core.database - ERROR - Failed to get database stats: 'AsyncAdaptedQueuePool' object has no attribute 'invalid'
2025-09-09 03:53:36,383 - app.core.database - INFO - Closing database connections. Final pool stats: {}
2025-09-09 23:52:05,330 - main - INFO - Environment: development
2025-09-09 23:52:05,331 - main - INFO - Debug mode: True
2025-09-09 23:52:05,405 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-09 23:52:05,406 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 23:52:05,411 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-09 23:52:05,411 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 23:52:05,416 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-09 23:52:05,416 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 23:52:05,419 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 23:52:05,420 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-09 23:52:05,420 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ()
2025-09-09 23:52:05,423 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-09 23:52:05,424 - sqlalchemy.engine.Engine - INFO - [generated in 0.00080s] ()
2025-09-09 23:52:05,444 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-09 23:52:05,445 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-09 23:52:05,454 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 23:52:05,455 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-09 23:52:34,267 - app.core.database - INFO - Closing database connections. Final pool stats: {'pool_size': <bound method QueuePool.size of <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x0000029C002F1550>>, 'checked_in': 0, 'checked_out': 0, 'overflow': -4, 'invalid': 0}
2025-09-09 23:52:45,809 - main - INFO - Environment: development
2025-09-09 23:52:45,810 - main - INFO - Debug mode: True
2025-09-09 23:52:45,909 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-09 23:52:45,910 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 23:52:45,919 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-09 23:52:45,920 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 23:52:45,930 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-09 23:52:45,931 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 23:52:45,937 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 23:52:45,938 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-09 23:52:45,939 - sqlalchemy.engine.Engine - INFO - [generated in 0.00099s] ()
2025-09-09 23:52:45,948 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-09 23:52:45,949 - sqlalchemy.engine.Engine - INFO - [generated in 0.00115s] ()
2025-09-09 23:52:45,970 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-09 23:52:45,971 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-09 23:52:45,993 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 23:52:45,995 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-09 23:54:11,537 - app.core.database - INFO - Closing database connections. Final pool stats: {'pool_size': <bound method QueuePool.size of <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x0000018DE2A31550>>, 'checked_in': 0, 'checked_out': 0, 'overflow': -4, 'invalid': 0}
2025-09-09 23:54:46,822 - main - INFO - Environment: development
2025-09-09 23:54:46,822 - main - INFO - Debug mode: True
2025-09-09 23:54:46,873 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-09 23:54:46,873 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 23:54:46,876 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-09 23:54:46,877 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 23:54:46,879 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-09 23:54:46,879 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-09 23:54:46,882 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 23:54:46,883 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-09 23:54:46,884 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ()
2025-09-09 23:54:46,887 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-09 23:54:46,888 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ()
2025-09-09 23:54:46,893 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-09 23:54:46,894 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-09 23:54:46,905 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 23:54:46,905 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-09 23:56:03,102 - app.middleware.auth - INFO - Request completed: OPTIONS /api/v1/auth/register - Status: 200 - Time: 0.001s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-09 23:56:03,163 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 23:56:03,168 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-09 23:56:03,169 - sqlalchemy.engine.Engine - INFO - [generated in 0.00157s] ('test@gmail.com',)
2025-09-09 23:56:03,183 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-09-09 23:56:03,621 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-09 23:56:03,624 - app.middleware.auth - INFO - Request completed: POST /api/v1/auth/register - Status: 500 - Time: 0.517s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-09 23:56:25,546 - app.middleware.auth - INFO - Request completed: OPTIONS /api/v1/auth/login - Status: 200 - Time: 0.000s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-09 23:56:25,559 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 23:56:25,560 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-09 23:56:25,560 - sqlalchemy.engine.Engine - INFO - [cached since 22.39s ago] ('test@gmail.com',)
2025-09-09 23:56:25,572 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_history (user_id, session_id, login_type, result, email_attempted, username_attempted, ip_address, user_agent, device_fingerprint, country, city, risk_score, is_suspicious, failure_reason, mfa_method, mfa_successful, duration_ms, id) VALUES ($1::UUID, $2::UUID, $3::login_type_enum, $4::login_result_enum, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::FLOAT, $13::BOOLEAN, $14::VARCHAR, $15::VARCHAR, $16::BOOLEAN, $17::INTEGER, $18::UUID) RETURNING login_history.created_at, login_history.updated_at
2025-09-09 23:56:25,573 - sqlalchemy.engine.Engine - INFO - [generated in 0.00117s] (None, None, 'password', 'failure', 'test@gmail.com', None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', None, None, None, None, False, 'user_not_found', None, None, 11, UUID('d15fafec-cd49-4685-882e-89c9aa9334b9'))
2025-09-09 23:56:25,599 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-09 23:56:25,602 - app.middleware.auth - INFO - Request completed: POST /api/v1/auth/login - Status: 500 - Time: 0.053s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-09 23:58:39,953 - watchfiles.main - INFO - 1 change detected
2025-09-09 23:59:00,837 - app.core.database - INFO - Closing database connections. Final pool stats: {'pool_size': <bound method QueuePool.size of <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x000001FF1CD41550>>, 'checked_in': 0, 'checked_out': 0, 'overflow': -4, 'invalid': 0}
2025-09-10 00:05:25,610 - main - INFO - Environment: development
2025-09-10 00:05:25,610 - main - INFO - Debug mode: True
2025-09-10 00:05:25,657 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-10 00:05:25,657 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:05:25,661 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-10 00:05:25,661 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:05:25,664 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-10 00:05:25,664 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:05:25,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:05:25,670 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-10 00:05:25,670 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ()
2025-09-10 00:05:25,673 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-10 00:05:25,673 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ()
2025-09-10 00:05:25,680 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-10 00:05:25,680 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:05:25,692 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:05:25,692 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:05:42,014 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:42,370 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:42,722 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:43,079 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:43,432 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:43,798 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:44,157 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:44,517 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:44,974 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:45,334 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:45,737 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:46,141 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:46,551 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:46,958 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:47,367 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:47,718 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:48,135 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:48,550 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:48,967 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:49,370 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:49,780 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:50,147 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:50,600 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:50,966 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:51,427 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:51,835 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:52,200 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:52,618 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:53,032 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:53,435 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:53,850 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:54,260 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:54,677 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:55,080 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:55,487 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:55,894 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:56,302 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:56,719 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:57,135 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:57,501 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:57,903 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:58,319 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:58,732 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:59,138 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:59,503 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:05:59,958 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:00,315 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:00,719 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:01,134 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:01,549 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:01,952 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:02,365 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:02,777 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:03,143 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:03,547 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:03,955 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:04,411 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:04,776 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:05,183 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:05,599 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:06,002 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:06,413 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:06,825 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:07,230 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:07,635 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:08,049 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:08,451 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:08,862 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:09,268 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:09,677 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:10,088 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:10,450 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:10,905 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:11,269 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:11,687 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:12,100 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:12,503 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:12,907 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:13,313 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:13,670 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:14,075 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:14,486 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:14,892 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:15,300 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:15,705 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:16,067 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:16,484 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:16,887 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:17,298 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:17,701 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:18,104 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:18,518 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:18,920 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:19,339 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:19,749 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:20,153 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:20,568 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:20,983 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:21,390 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:21,803 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:22,162 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:22,565 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:22,970 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:23,382 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:23,798 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:24,212 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:24,621 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:24,983 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:25,436 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:25,850 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:26,203 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:26,618 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:27,027 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:27,441 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:27,843 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:28,250 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:28,653 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:29,069 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:29,475 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:29,884 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:30,285 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:30,694 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:31,264 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:31,619 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:31,972 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:32,378 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:32,736 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:33,151 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:33,565 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:33,970 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:34,378 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:34,784 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:35,190 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:35,605 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:35,960 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:36,370 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:36,776 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:37,191 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:37,555 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:37,969 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:38,371 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:38,779 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:39,187 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:39,593 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:40,003 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:40,369 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:40,821 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:41,230 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:41,632 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:42,038 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:42,399 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:42,855 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:43,263 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:43,669 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:44,024 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:44,437 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:44,850 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:45,256 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:45,665 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:46,069 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:46,486 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:46,851 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:47,253 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:47,670 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:48,086 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:48,503 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:48,870 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:49,282 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:49,685 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:50,096 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:50,454 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:50,871 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:51,285 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:51,692 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:52,098 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:52,501 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:52,907 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:53,312 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:53,719 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:54,127 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:54,533 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:54,899 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:55,313 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:55,727 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:56,132 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:56,536 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:56,953 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:57,316 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:57,431 - app.middleware.auth - INFO - Request completed: OPTIONS /api/v1/auth/register - Status: 200 - Time: 0.000s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-10 00:06:57,474 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:06:57,477 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-10 00:06:57,478 - sqlalchemy.engine.Engine - INFO - [generated in 0.00092s] ('test@gmail.com',)
2025-09-10 00:06:57,625 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-10 00:06:57,629 - app.middleware.auth - INFO - Request completed: POST /api/v1/auth/register - Status: 500 - Time: 0.194s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-10 00:06:57,721 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:58,140 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:58,553 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:58,972 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:59,383 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:06:59,789 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:00,205 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:00,571 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:00,988 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:01,405 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:01,774 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:02,188 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:02,594 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:03,004 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:03,408 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:03,819 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:04,186 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:04,655 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:05,006 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:05,408 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:05,816 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:06,220 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:06,635 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:07,049 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:07,454 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:07,862 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:08,273 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:08,681 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:09,088 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:09,447 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:09,862 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:10,272 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:10,677 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:11,082 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:11,490 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:11,856 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:12,259 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:12,673 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:13,090 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:13,503 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:13,910 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:14,314 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:14,716 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:15,079 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:15,481 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:15,897 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:16,300 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:16,707 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:17,109 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:17,524 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:17,926 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:18,341 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:18,743 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:19,156 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:19,515 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:19,931 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:20,347 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:20,749 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:21,112 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:21,529 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:21,946 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:22,348 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:22,716 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:23,130 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:23,544 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:23,946 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:24,354 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:24,758 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:25,174 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:25,586 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:25,996 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:26,399 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:26,764 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:27,173 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:27,576 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:27,988 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:28,405 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:28,766 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:29,179 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:29,582 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:29,998 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:30,363 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:30,765 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:31,167 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:31,573 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:31,975 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:32,390 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:32,792 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:33,200 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:33,606 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:34,008 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:34,426 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:34,841 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:35,255 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:35,658 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:36,071 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:36,475 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:36,890 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:37,293 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:37,700 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:38,109 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:38,475 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:38,892 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:39,306 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:39,708 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:40,120 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:40,525 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:40,928 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:41,341 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:41,758 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:42,123 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:42,576 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:42,943 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:43,355 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:43,759 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:44,174 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:44,576 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:44,991 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:45,344 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:45,757 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:46,174 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:46,590 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:47,008 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:47,410 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:47,826 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:48,230 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:48,632 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:49,040 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:49,450 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:49,857 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:50,272 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:50,675 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:51,031 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:51,437 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:51,841 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:52,256 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:52,615 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:53,023 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:53,438 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:53,841 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:54,256 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:54,658 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:55,075 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:55,441 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:55,845 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:56,250 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:56,658 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:57,074 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:57,477 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:57,836 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:58,242 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:58,659 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:59,062 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:59,476 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:07:59,889 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:00,296 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:00,710 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:01,067 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:01,524 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:01,928 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:02,341 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:02,742 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:03,108 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:03,522 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:03,934 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:04,295 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:04,708 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:05,110 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:05,524 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:05,881 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:06,283 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:06,702 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:07,118 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:07,533 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:07,940 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:08,347 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:08,707 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:09,110 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:09,523 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:09,933 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:10,300 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:10,708 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:11,117 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:11,519 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:11,923 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:12,327 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:12,734 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:13,142 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:13,553 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:13,959 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:14,366 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:14,771 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:15,181 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:15,589 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:15,992 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:16,406 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:16,809 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:17,218 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:17,622 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:18,026 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:18,389 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:18,843 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:19,209 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:19,623 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:20,037 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:20,403 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:20,857 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:21,260 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:21,674 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:22,087 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:22,493 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:22,898 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:23,312 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:23,720 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:24,126 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:24,489 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:24,943 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:25,308 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:25,725 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:26,143 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:26,546 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:26,960 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:27,362 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:27,727 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:28,143 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:28,558 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:28,961 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:29,377 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:29,794 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:30,210 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:30,625 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:31,042 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:31,459 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:31,827 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:32,243 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:32,654 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:33,106 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:33,466 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:33,878 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:34,294 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:34,700 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:35,103 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:35,513 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:35,926 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:36,344 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:36,761 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:37,115 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:37,527 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:37,944 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:38,345 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:38,762 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:39,165 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:39,578 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:39,981 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:40,392 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:40,798 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:41,211 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:41,624 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:42,042 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:42,450 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:42,853 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:43,256 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:43,662 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:44,028 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:44,432 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:44,843 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:45,246 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:45,649 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:46,060 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:46,422 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:46,839 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:47,245 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:47,651 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:48,066 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:48,470 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:48,877 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:49,242 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:49,645 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:50,047 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:50,412 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:50,822 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:51,226 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:51,686 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:52,092 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:52,495 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:52,857 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:53,260 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:53,615 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:53,976 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:54,331 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:54,743 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:55,152 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:55,571 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:55,978 - watchfiles.main - INFO - 2 changes detected
2025-09-10 00:08:56,183 - app.core.database - INFO - Closing database connections. Final pool stats: {'pool_size': <bound method QueuePool.size of <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x000001E6F7621550>>, 'checked_in': 0, 'checked_out': 0, 'overflow': -4, 'invalid': 0}
2025-09-10 00:08:56,760 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:08:58,478 - watchfiles.main - INFO - 5 changes detected
2025-09-10 00:09:00,443 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:00,562 - main - INFO - Environment: development
2025-09-10 00:09:00,563 - main - INFO - Debug mode: True
2025-09-10 00:09:00,662 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-10 00:09:00,663 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:09:00,675 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-10 00:09:00,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:09:00,689 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-10 00:09:00,691 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:09:00,701 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:09:00,703 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-10 00:09:00,704 - sqlalchemy.engine.Engine - INFO - [generated in 0.00119s] ()
2025-09-10 00:09:00,713 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-10 00:09:00,714 - sqlalchemy.engine.Engine - INFO - [generated in 0.00112s] ()
2025-09-10 00:09:00,740 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-10 00:09:00,741 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:09:00,802 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:00,811 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:09:00,815 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:09:01,156 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:01,513 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:01,877 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:02,228 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:02,583 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:02,945 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:03,310 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:03,661 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:04,019 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:04,429 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:04,842 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:05,249 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:05,651 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:06,017 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:06,424 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:06,839 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:07,244 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:07,650 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:08,057 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:08,465 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:08,878 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:09,296 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:09,699 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:10,159 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:10,512 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:10,915 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:11,328 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:11,743 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:12,161 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:12,568 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:12,933 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:13,342 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:13,749 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:14,151 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:14,553 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:14,955 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:15,363 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:15,776 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:16,129 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:16,540 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:16,946 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:17,357 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:17,761 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:18,174 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:18,578 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:18,988 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:19,404 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:19,806 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:20,213 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:20,628 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:20,985 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:21,388 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:21,792 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:22,196 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:22,604 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:23,006 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:23,371 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:23,777 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:24,182 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:24,596 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:25,013 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:25,414 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:25,830 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:26,196 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:26,608 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:27,012 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:27,422 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:27,824 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:28,229 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:28,646 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:29,053 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:29,420 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:29,827 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:30,230 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:30,632 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:31,090 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:31,513 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:31,871 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:32,280 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:32,695 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:33,104 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:33,506 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:33,909 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:34,324 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:34,729 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:35,139 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:35,544 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:35,956 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:36,359 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:36,761 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:37,164 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:37,621 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:37,985 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:38,402 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:38,809 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:39,214 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:39,622 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:40,037 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:40,403 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:40,812 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:41,214 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:41,619 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:42,022 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:42,429 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:42,841 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:43,247 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:43,651 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:44,060 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:44,465 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:44,872 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:45,328 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:45,730 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:46,145 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:46,504 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:46,921 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:47,326 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:47,730 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:48,139 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:48,554 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:48,971 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:49,377 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:49,779 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:50,193 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:50,604 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:50,958 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:51,362 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:51,778 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:52,193 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:52,608 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:53,014 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:53,423 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:53,827 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:54,231 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:54,645 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:55,047 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:55,406 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:55,860 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:56,227 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:56,639 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:57,041 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:57,455 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:57,860 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:58,265 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:58,681 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:59,089 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:59,490 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:09:59,899 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:00,311 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:00,714 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:01,122 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:01,528 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:01,941 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:02,307 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:02,714 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:03,127 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:03,536 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:03,940 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:04,347 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:04,763 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:05,165 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:05,570 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:05,973 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:06,374 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:06,779 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:07,188 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:07,591 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:08,008 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:08,414 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:08,829 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:09,194 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:09,606 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:10,011 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:10,424 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:10,842 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:11,249 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:11,664 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:12,066 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:12,424 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:12,878 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:13,280 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:13,687 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:14,090 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:14,457 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:14,859 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:15,264 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:15,678 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:16,090 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:16,455 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:16,865 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:17,280 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:17,694 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:18,105 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:18,512 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:18,929 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:19,341 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:19,748 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:20,159 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:20,516 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:20,923 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:21,327 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:21,729 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:22,132 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:22,542 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:22,956 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:23,357 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:23,714 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:24,125 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:24,539 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:24,905 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:25,315 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:25,730 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:26,138 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:26,542 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:26,897 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:27,311 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:27,713 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:28,125 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:28,532 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:28,942 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:29,344 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:29,747 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:30,161 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:30,565 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:31,076 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:31,492 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:31,909 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:32,312 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:32,715 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:33,124 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:33,537 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:33,944 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:34,349 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:34,713 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:35,123 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:35,534 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:35,947 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:36,360 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:36,765 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:37,166 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:37,581 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:37,943 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:38,345 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:38,748 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:39,156 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:39,558 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:39,973 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:40,390 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:40,796 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:41,200 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:41,607 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:41,971 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:42,378 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:42,780 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:43,233 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:43,637 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:44,041 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:44,447 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:44,857 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:45,215 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:45,675 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:46,080 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:46,434 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:46,844 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:47,248 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:47,701 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:48,115 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:48,476 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:48,892 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:49,298 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:49,700 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:50,109 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:50,526 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:50,891 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:51,299 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:51,766 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:52,168 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:52,577 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:52,945 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:53,361 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:53,767 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:54,179 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:54,595 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:54,998 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:55,410 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:55,814 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:56,217 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:56,632 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:57,042 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:57,457 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:57,859 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:58,266 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:58,667 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:59,074 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:59,440 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:10:59,847 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:00,250 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:00,657 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:01,060 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:01,462 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:01,866 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:02,283 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:02,684 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:03,093 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:03,500 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:03,909 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:04,312 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:04,716 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:05,133 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:05,541 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:05,906 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:06,313 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:06,717 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:07,126 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:07,539 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:07,893 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:08,300 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:08,701 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:09,118 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:09,575 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:09,929 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:10,345 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:10,751 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:11,164 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:11,526 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:11,932 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:12,342 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:12,750 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:13,116 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:13,527 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:13,935 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:14,349 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:14,711 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:15,119 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:15,535 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:15,951 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:16,354 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:16,767 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:17,175 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:17,576 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:17,979 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:18,384 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:18,749 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:19,160 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:19,568 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:19,985 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:20,390 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:20,793 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:21,153 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:21,568 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:21,971 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:22,373 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:22,779 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:23,184 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:23,606 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:23,963 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:24,473 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:24,884 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:25,248 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:25,658 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:26,061 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:26,466 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:26,887 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:27,291 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:27,705 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:28,110 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:28,519 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:28,921 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:29,286 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:29,689 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:30,103 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:30,468 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:30,891 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:31,303 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:31,715 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:32,119 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:32,534 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:32,946 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:33,366 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:33,779 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:34,186 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:34,602 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:34,969 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:35,432 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:35,835 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:36,194 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:36,597 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:37,001 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:37,404 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:37,810 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:38,217 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:38,635 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:39,036 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:39,452 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:39,860 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:40,270 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:40,686 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:41,103 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:41,511 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:41,920 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:42,286 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:42,703 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:43,120 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:43,535 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:43,887 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:44,354 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:44,720 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:45,121 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:45,527 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:45,937 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:46,353 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:46,755 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:47,170 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:47,587 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:47,991 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:48,398 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:48,756 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:49,172 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:49,588 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:50,047 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:50,454 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:50,870 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:51,287 - watchfiles.main - INFO - 1 change detected
2025-09-10 00:11:51,843 - app.core.database - INFO - Closing database connections. Final pool stats: {'pool_size': <bound method QueuePool.size of <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x000001867E2C1550>>, 'checked_in': 0, 'checked_out': 0, 'overflow': -4, 'invalid': 0}
2025-09-10 00:13:31,669 - main - INFO - Environment: development
2025-09-10 00:13:31,670 - main - INFO - Debug mode: True
2025-09-10 00:13:31,724 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-10 00:13:31,724 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:13:31,730 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-10 00:13:31,731 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:13:31,734 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-10 00:13:31,735 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:13:31,738 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:13:31,738 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-10 00:13:31,739 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ()
2025-09-10 00:13:31,741 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-10 00:13:31,742 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ()
2025-09-10 00:13:31,749 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-10 00:13:31,749 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:13:31,758 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:13:31,758 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:14:06,139 - app.middleware.auth - INFO - Request completed: OPTIONS /api/v1/auth/login - Status: 200 - Time: 0.001s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-10 00:14:06,191 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:14:06,194 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-10 00:14:06,195 - sqlalchemy.engine.Engine - INFO - [generated in 0.00073s] ('test@gmail.com',)
2025-09-10 00:14:06,208 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_history (user_id, session_id, login_type, result, email_attempted, username_attempted, ip_address, user_agent, device_fingerprint, country, city, risk_score, is_suspicious, failure_reason, mfa_method, mfa_successful, duration_ms, id) VALUES ($1::UUID, $2::UUID, $3::login_type_enum, $4::login_result_enum, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::FLOAT, $13::BOOLEAN, $14::VARCHAR, $15::VARCHAR, $16::BOOLEAN, $17::INTEGER, $18::UUID) RETURNING login_history.created_at, login_history.updated_at
2025-09-10 00:14:06,209 - sqlalchemy.engine.Engine - INFO - [generated in 0.00131s] (None, None, 'password', 'failure', 'test@gmail.com', None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', None, None, None, None, False, 'user_not_found', None, None, 40, UUID('c2138093-e968-43d0-8ac6-0a76def8b2c1'))
2025-09-10 00:14:06,234 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-10 00:14:06,237 - app.middleware.auth - INFO - Request completed: POST /api/v1/auth/login - Status: 500 - Time: 0.094s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-10 00:14:23,765 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:14:23,766 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-10 00:14:23,767 - sqlalchemy.engine.Engine - INFO - [cached since 17.57s ago] ('test@gmail.com',)
2025-09-10 00:14:23,920 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-10 00:14:23,923 - app.middleware.auth - INFO - Request completed: POST /api/v1/auth/register - Status: 500 - Time: 0.168s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-10 00:15:05,086 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:15:05,087 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-10 00:15:05,088 - sqlalchemy.engine.Engine - INFO - [cached since 58.89s ago] ('test@gmail.com',)
2025-09-10 00:15:05,238 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-10 00:15:05,241 - app.middleware.auth - INFO - Request completed: POST /api/v1/auth/register - Status: 500 - Time: 0.162s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
2025-09-10 00:18:47,249 - app.core.database - INFO - Closing database connections. Final pool stats: {'pool_size': <bound method QueuePool.size of <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x000001C857DB8EC0>>, 'checked_in': 0, 'checked_out': 0, 'overflow': -4, 'invalid': 0}
2025-09-10 00:20:04,756 - main - INFO - Environment: development
2025-09-10 00:20:04,757 - main - INFO - Debug mode: True
2025-09-10 00:20:04,801 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-10 00:20:04,801 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:20:04,804 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-10 00:20:04,805 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:20:04,807 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-10 00:20:04,808 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:20:04,810 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:20:04,811 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-10 00:20:04,811 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ()
2025-09-10 00:20:04,814 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-10 00:20:04,815 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ()
2025-09-10 00:20:04,822 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-10 00:20:04,822 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:20:04,831 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:20:04,831 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:21:27,421 - app.services.auth_service - INFO - Starting registration for email: test@example.com
2025-09-10 00:21:27,435 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:21:27,437 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-10 00:21:27,438 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('test@example.com',)
2025-09-10 00:21:27,441 - app.services.auth_service - INFO - Email test@example.com is available, proceeding with registration
2025-09-10 00:21:27,537 - app.services.auth_service - INFO - Password hashed successfully
2025-09-10 00:21:27,537 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-10 00:21:27,538 - app.services.auth_service - ERROR - Registration failed for test@example.com: 'password_hash' is an invalid keyword argument for User
2025-09-10 00:21:27,539 - app.services.auth_service - ERROR - Full exception details:
Traceback (most recent call last):
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\services\auth_service.py", line 93, in register_user
    user = User(
        email=email,
    ...<2 lines>...
        email_verification_expires=verification_expires
    )
  File "<string>", line 4, in __init__
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2179, in _declarative_constructor
    raise TypeError(
        "%r is an invalid keyword argument for %s" % (k, cls_.__name__)
    )
TypeError: 'password_hash' is an invalid keyword argument for User
2025-09-10 00:21:27,564 - app.middleware.auth - INFO - Request completed: POST /api/v1/auth/register - Status: 500 - Time: 0.150s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768
2025-09-10 00:26:47,258 - app.core.database - INFO - Closing database connections. Final pool stats: {'pool_size': <bound method QueuePool.size of <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x000001D0128392B0>>, 'checked_in': 0, 'checked_out': 0, 'overflow': -4, 'invalid': 0}
2025-09-10 00:39:54,836 - main - INFO - Environment: development
2025-09-10 00:39:54,838 - main - INFO - Debug mode: True
2025-09-10 00:39:55,033 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-10 00:39:55,034 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:39:55,044 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-10 00:39:55,045 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:39:55,058 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-10 00:39:55,060 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:39:55,070 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:39:55,073 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-10 00:39:55,074 - sqlalchemy.engine.Engine - INFO - [generated in 0.00102s] ()
2025-09-10 00:39:55,083 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-10 00:39:55,084 - sqlalchemy.engine.Engine - INFO - [generated in 0.00124s] ()
2025-09-10 00:39:55,104 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-10 00:39:55,104 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:39:55,125 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:39:55,126 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:42:14,306 - app.services.auth_service - INFO - Starting registration for email: test@example.com
2025-09-10 00:42:14,334 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:42:14,337 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.username, users.password_hash, users.first_name, users.last_name, users.display_name, users.profile_picture_url, users.bio, users.phone_number, users.date_of_birth, users.is_active, users.is_verified, users.email_verification_token, users.email_verification_expires, users.is_staff, users.is_superuser, users.last_login, users.last_login_ip, users.failed_login_attempts, users.account_locked_until, users.password_changed_at, users.password_reset_token, users.password_reset_expires, users.last_activity, users.login_count, users.email_notifications, users.marketing_emails, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-10 00:42:14,337 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('test@example.com',)
2025-09-10 00:42:14,342 - app.services.auth_service - INFO - Email test@example.com is available, proceeding with registration
2025-09-10 00:42:14,430 - app.services.auth_service - INFO - Password hashed successfully
2025-09-10 00:42:14,432 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (email, username, password_hash, first_name, last_name, display_name, profile_picture_url, bio, phone_number, date_of_birth, is_active, is_verified, email_verification_token, email_verification_expires, is_staff, is_superuser, last_login, last_login_ip, failed_login_attempts, account_locked_until, password_changed_at, password_reset_token, password_reset_expires, last_activity, login_count, email_notifications, marketing_emails, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::TIMESTAMP WITH TIME ZONE, $11::BOOLEAN, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::BOOLEAN, $16::BOOLEAN, $17::TIMESTAMP WITH TIME ZONE, $18::VARCHAR, $19::INTEGER, $20::TIMESTAMP WITH TIME ZONE, $21::TIMESTAMP WITH TIME ZONE, $22::VARCHAR, $23::TIMESTAMP WITH TIME ZONE, $24::TIMESTAMP WITH TIME ZONE, $25::INTEGER, $26::BOOLEAN, $27::BOOLEAN, $28::UUID) RETURNING users.created_at, users.updated_at
2025-09-10 00:42:14,433 - sqlalchemy.engine.Engine - INFO - [generated in 0.00077s] ('test@example.com', None, '$argon2id$v=19$m=102400,t=4,p=8$S8lZS2nN2ZtT6t17rxWCMA$90jL5RnH5Zy9F5aHBGJArHUpuP91e0BxEvzab1oDDWk', None, None, None, None, None, None, None, True, False, 'iX1gP3mt-1S9Wfhd7xPEBgQlaN0yYQ6MPH8WUhGvEfc', datetime.datetime(2025, 9, 11, 4, 42, 14, 430461), False, False, None, None, 0, None, None, None, None, None, 0, True, False, UUID('dcb2225a-4ec2-46a3-a4e3-ebb6f9fb5fb8'))
2025-09-10 00:42:14,452 - app.services.auth_service - INFO - User created with ID: dcb2225a-4ec2-46a3-a4e3-ebb6f9fb5fb8
2025-09-10 00:42:14,453 - app.services.auth_service - INFO - Password history entry created
2025-09-10 00:42:14,454 - sqlalchemy.engine.Engine - INFO - INSERT INTO password_history (user_id, password_hash, strength_score, entropy, length, has_uppercase, has_lowercase, has_digits, has_symbols, is_compromised, compromise_source, policy_compliant, policy_violations, set_at, replaced_at, last_used, usage_count, change_reason, ip_address, id) VALUES ($1::UUID, $2::VARCHAR, $3::FLOAT, $4::FLOAT, $5::INTEGER, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::BOOLEAN, $11::VARCHAR, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::UUID) RETURNING password_history.created_at, password_history.updated_at
2025-09-10 00:42:14,455 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] (UUID('dcb2225a-4ec2-46a3-a4e3-ebb6f9fb5fb8'), '$argon2id$v=19$m=102400,t=4,p=8$S8lZS2nN2ZtT6t17rxWCMA$90jL5RnH5Zy9F5aHBGJArHUpuP91e0BxEvzab1oDDWk', 1.0, None, 16, True, True, True, True, False, None, True, None, datetime.datetime(2025, 9, 10, 4, 42, 14, 452865), None, None, 0, 'initial_registration', '127.0.0.1', UUID('7635872b-fb9e-4cfd-8abd-30218dee5cd2'))
2025-09-10 00:42:14,464 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at
2025-09-10 00:42:14,464 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] (UUID('dcb2225a-4ec2-46a3-a4e3-ebb6f9fb5fb8'), 'zFI9QLmO5Fu209IudYghRxQshEbrrptr_OS-ha8q9uo', None, datetime.datetime(2025, 10, 10, 4, 42, 14, 453221), None, True, '7f2b928d0ef8bbd61d32631c73fa4e102a778a1245914fd7204b79860821b5cf', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('a1450a78-62b0-4343-878b-69385ea6551b'))
2025-09-10 00:42:14,469 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-10 00:42:14,472 - app.services.auth_service - ERROR - Registration failed for test@example.com: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (dcb2225a-4ec2-46a3-a4e3-ebb6f9fb5fb8, zFI9QLmO5Fu209IudYghRxQshEbrrptr_OS-ha8q9uo, null, 2025-10-10 08:42:14.453221+00, null, t, 7f2b928d0ef8bbd61d32631c73fa4e102a778a1245914fd7204b79860821b5cf, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, a1450a78-62b0-4343-878b-69385ea6551b, 2025-09-10 04:42:14.338103+00, 2025-09-10 04:42:14.338103+00).
[SQL: INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at]
[parameters: (UUID('dcb2225a-4ec2-46a3-a4e3-ebb6f9fb5fb8'), 'zFI9QLmO5Fu209IudYghRxQshEbrrptr_OS-ha8q9uo', None, datetime.datetime(2025, 10, 10, 4, 42, 14, 453221), None, True, '7f2b928d0ef8bbd61d32631c73fa4e102a778a1245914fd7204b79860821b5cf', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('a1450a78-62b0-4343-878b-69385ea6551b'))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-10 00:42:14,472 - app.services.auth_service - ERROR - Full exception details:
Traceback (most recent call last):
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
        lambda protocol: protocol.bind_execute(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            self._state, args, '', limit, True, timeout))
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (dcb2225a-4ec2-46a3-a4e3-ebb6f9fb5fb8, zFI9QLmO5Fu209IudYghRxQshEbrrptr_OS-ha8q9uo, null, 2025-10-10 08:42:14.453221+00, null, t, 7f2b928d0ef8bbd61d32631c73fa4e102a778a1245914fd7204b79860821b5cf, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, a1450a78-62b0-4343-878b-69385ea6551b, 2025-09-10 04:42:14.338103+00, 2025-09-10 04:42:14.338103+00).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (dcb2225a-4ec2-46a3-a4e3-ebb6f9fb5fb8, zFI9QLmO5Fu209IudYghRxQshEbrrptr_OS-ha8q9uo, null, 2025-10-10 08:42:14.453221+00, null, t, 7f2b928d0ef8bbd61d32631c73fa4e102a778a1245914fd7204b79860821b5cf, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, a1450a78-62b0-4343-878b-69385ea6551b, 2025-09-10 04:42:14.338103+00, 2025-09-10 04:42:14.338103+00).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\services\auth_service.py", line 133, in register_user
    await session.flush()  # Get the session ID
    ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 801, in flush
    await greenlet_spawn(self.sync_session.flush, objects=objects)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (dcb2225a-4ec2-46a3-a4e3-ebb6f9fb5fb8, zFI9QLmO5Fu209IudYghRxQshEbrrptr_OS-ha8q9uo, null, 2025-10-10 08:42:14.453221+00, null, t, 7f2b928d0ef8bbd61d32631c73fa4e102a778a1245914fd7204b79860821b5cf, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, a1450a78-62b0-4343-878b-69385ea6551b, 2025-09-10 04:42:14.338103+00, 2025-09-10 04:42:14.338103+00).
[SQL: INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at]
[parameters: (UUID('dcb2225a-4ec2-46a3-a4e3-ebb6f9fb5fb8'), 'zFI9QLmO5Fu209IudYghRxQshEbrrptr_OS-ha8q9uo', None, datetime.datetime(2025, 10, 10, 4, 42, 14, 453221), None, True, '7f2b928d0ef8bbd61d32631c73fa4e102a778a1245914fd7204b79860821b5cf', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('a1450a78-62b0-4343-878b-69385ea6551b'))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-10 00:42:14,564 - app.middleware.auth - INFO - Request completed: POST /api/v1/auth/register - Status: 500 - Time: 0.263s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768
2025-09-10 00:42:41,763 - app.core.database - INFO - Closing database connections. Final pool stats: {'pool_size': <bound method QueuePool.size of <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x0000029D44C492B0>>, 'checked_in': 0, 'checked_out': 0, 'overflow': -4, 'invalid': 0}
2025-09-10 00:42:47,561 - main - INFO - Environment: development
2025-09-10 00:42:47,561 - main - INFO - Debug mode: True
2025-09-10 00:42:47,601 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-10 00:42:47,602 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:42:47,607 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-10 00:42:47,608 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:42:47,611 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-10 00:42:47,612 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:42:47,614 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:42:47,615 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-10 00:42:47,615 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ()
2025-09-10 00:42:47,617 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-10 00:42:47,618 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ()
2025-09-10 00:42:47,625 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-10 00:42:47,625 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:42:47,633 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:42:47,633 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:43:03,345 - app.core.database - INFO - Closing database connections. Final pool stats: {'pool_size': <bound method QueuePool.size of <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x000001A0942B92B0>>, 'checked_in': 0, 'checked_out': 0, 'overflow': -4, 'invalid': 0}
2025-09-10 00:45:52,046 - main - INFO - Environment: development
2025-09-10 00:45:52,047 - main - INFO - Debug mode: True
2025-09-10 00:45:52,121 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-10 00:45:52,121 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:45:52,126 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-10 00:45:52,127 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:45:52,132 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-10 00:45:52,133 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:45:52,136 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:45:52,137 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-10 00:45:52,137 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ()
2025-09-10 00:45:52,140 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-10 00:45:52,141 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ()
2025-09-10 00:45:52,148 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-10 00:45:52,149 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:45:52,157 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:45:52,157 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:48:05,566 - main - INFO - Environment: development
2025-09-10 00:48:05,566 - main - INFO - Debug mode: True
2025-09-10 00:48:05,609 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-10 00:48:05,610 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:48:05,614 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-10 00:48:05,614 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:48:05,618 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-10 00:48:05,618 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:48:05,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:48:05,624 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-10 00:48:05,625 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ()
2025-09-10 00:48:05,628 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-10 00:48:05,629 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] ()
2025-09-10 00:48:05,638 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-10 00:48:05,638 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:48:05,647 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:48:05,647 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:49:00,752 - app.services.auth_service - INFO - Starting registration for email: newuser@example.com
2025-09-10 00:49:00,768 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:49:00,770 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.username, users.password_hash, users.first_name, users.last_name, users.display_name, users.profile_picture_url, users.bio, users.phone_number, users.date_of_birth, users.is_active, users.is_verified, users.email_verification_token, users.email_verification_expires, users.is_staff, users.is_superuser, users.last_login, users.last_login_ip, users.failed_login_attempts, users.account_locked_until, users.password_changed_at, users.password_reset_token, users.password_reset_expires, users.last_activity, users.login_count, users.email_notifications, users.marketing_emails, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-10 00:49:00,771 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('newuser@example.com',)
2025-09-10 00:49:00,775 - app.services.auth_service - INFO - Email newuser@example.com is available, proceeding with registration
2025-09-10 00:49:00,875 - app.services.auth_service - INFO - Password hashed successfully
2025-09-10 00:49:00,877 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (email, username, password_hash, first_name, last_name, display_name, profile_picture_url, bio, phone_number, date_of_birth, is_active, is_verified, email_verification_token, email_verification_expires, is_staff, is_superuser, last_login, last_login_ip, failed_login_attempts, account_locked_until, password_changed_at, password_reset_token, password_reset_expires, last_activity, login_count, email_notifications, marketing_emails, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::TIMESTAMP WITH TIME ZONE, $11::BOOLEAN, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::BOOLEAN, $16::BOOLEAN, $17::TIMESTAMP WITH TIME ZONE, $18::VARCHAR, $19::INTEGER, $20::TIMESTAMP WITH TIME ZONE, $21::TIMESTAMP WITH TIME ZONE, $22::VARCHAR, $23::TIMESTAMP WITH TIME ZONE, $24::TIMESTAMP WITH TIME ZONE, $25::INTEGER, $26::BOOLEAN, $27::BOOLEAN, $28::UUID) RETURNING users.created_at, users.updated_at
2025-09-10 00:49:00,878 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] ('newuser@example.com', None, '$argon2id$v=19$m=102400,t=4,p=8$HsPYuxeC0LpXKmUMAeB8zw$cj6Wqrj54WI3aCmxVWJIdFBebf+BwWGuqumI6wS0Zr0', None, None, None, None, None, None, None, True, False, 'dBazMIUoyb2ek-EGQKuM0yb12NC60WHow_39tAtZmq0', datetime.datetime(2025, 9, 11, 4, 49, 0, 875704), False, False, None, None, 0, None, None, None, None, None, 0, True, False, UUID('c6d4e855-3aea-4538-9a27-4f57015ad0eb'))
2025-09-10 00:49:00,882 - app.services.auth_service - INFO - User created with ID: c6d4e855-3aea-4538-9a27-4f57015ad0eb
2025-09-10 00:49:00,882 - app.services.auth_service - INFO - Password history entry created
2025-09-10 00:49:00,884 - sqlalchemy.engine.Engine - INFO - INSERT INTO password_history (user_id, password_hash, strength_score, entropy, length, has_uppercase, has_lowercase, has_digits, has_symbols, is_compromised, compromise_source, policy_compliant, policy_violations, set_at, replaced_at, last_used, usage_count, change_reason, ip_address, id) VALUES ($1::UUID, $2::VARCHAR, $3::FLOAT, $4::FLOAT, $5::INTEGER, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::BOOLEAN, $11::VARCHAR, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::UUID) RETURNING password_history.created_at, password_history.updated_at
2025-09-10 00:49:00,885 - sqlalchemy.engine.Engine - INFO - [generated in 0.00076s] (UUID('c6d4e855-3aea-4538-9a27-4f57015ad0eb'), '$argon2id$v=19$m=102400,t=4,p=8$HsPYuxeC0LpXKmUMAeB8zw$cj6Wqrj54WI3aCmxVWJIdFBebf+BwWGuqumI6wS0Zr0', 1.0, None, 18, True, True, True, True, False, None, True, None, datetime.datetime(2025, 9, 10, 4, 49, 0, 882606), None, None, 0, 'initial_registration', '127.0.0.1', UUID('51504e6e-c087-4242-be5a-995007c505fa'))
2025-09-10 00:49:00,889 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at
2025-09-10 00:49:00,890 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] (UUID('c6d4e855-3aea-4538-9a27-4f57015ad0eb'), 'x7jbU8NF94OFFp-sQ8JXhcgme0hDtt8tX_IY9ZYAhUI', None, datetime.datetime(2025, 10, 10, 4, 49, 0, 882972), None, True, '9a6ff2d81626bec7926cf4c4ca8d0a19f061780b18a9be19afd4884cebdcbe25', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('68abe76e-1e97-41c3-b987-21143b6464c7'))
2025-09-10 00:49:00,893 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-10 00:49:00,894 - app.services.auth_service - ERROR - Registration failed for newuser@example.com: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (c6d4e855-3aea-4538-9a27-4f57015ad0eb, x7jbU8NF94OFFp-sQ8JXhcgme0hDtt8tX_IY9ZYAhUI, null, 2025-10-10 08:49:00.882972+00, null, t, 9a6ff2d81626bec7926cf4c4ca8d0a19f061780b18a9be19afd4884cebdcbe25, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, 68abe76e-1e97-41c3-b987-21143b6464c7, 2025-09-10 04:49:00.772578+00, 2025-09-10 04:49:00.772578+00).
[SQL: INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at]
[parameters: (UUID('c6d4e855-3aea-4538-9a27-4f57015ad0eb'), 'x7jbU8NF94OFFp-sQ8JXhcgme0hDtt8tX_IY9ZYAhUI', None, datetime.datetime(2025, 10, 10, 4, 49, 0, 882972), None, True, '9a6ff2d81626bec7926cf4c4ca8d0a19f061780b18a9be19afd4884cebdcbe25', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('68abe76e-1e97-41c3-b987-21143b6464c7'))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-10 00:49:00,895 - app.services.auth_service - ERROR - Full exception details:
Traceback (most recent call last):
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
        lambda protocol: protocol.bind_execute(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            self._state, args, '', limit, True, timeout))
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (c6d4e855-3aea-4538-9a27-4f57015ad0eb, x7jbU8NF94OFFp-sQ8JXhcgme0hDtt8tX_IY9ZYAhUI, null, 2025-10-10 08:49:00.882972+00, null, t, 9a6ff2d81626bec7926cf4c4ca8d0a19f061780b18a9be19afd4884cebdcbe25, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, 68abe76e-1e97-41c3-b987-21143b6464c7, 2025-09-10 04:49:00.772578+00, 2025-09-10 04:49:00.772578+00).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (c6d4e855-3aea-4538-9a27-4f57015ad0eb, x7jbU8NF94OFFp-sQ8JXhcgme0hDtt8tX_IY9ZYAhUI, null, 2025-10-10 08:49:00.882972+00, null, t, 9a6ff2d81626bec7926cf4c4ca8d0a19f061780b18a9be19afd4884cebdcbe25, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, 68abe76e-1e97-41c3-b987-21143b6464c7, 2025-09-10 04:49:00.772578+00, 2025-09-10 04:49:00.772578+00).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\services\auth_service.py", line 133, in register_user
    await session.flush()  # Get the session ID
    ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 801, in flush
    await greenlet_spawn(self.sync_session.flush, objects=objects)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (c6d4e855-3aea-4538-9a27-4f57015ad0eb, x7jbU8NF94OFFp-sQ8JXhcgme0hDtt8tX_IY9ZYAhUI, null, 2025-10-10 08:49:00.882972+00, null, t, 9a6ff2d81626bec7926cf4c4ca8d0a19f061780b18a9be19afd4884cebdcbe25, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, 68abe76e-1e97-41c3-b987-21143b6464c7, 2025-09-10 04:49:00.772578+00, 2025-09-10 04:49:00.772578+00).
[SQL: INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at]
[parameters: (UUID('c6d4e855-3aea-4538-9a27-4f57015ad0eb'), 'x7jbU8NF94OFFp-sQ8JXhcgme0hDtt8tX_IY9ZYAhUI', None, datetime.datetime(2025, 10, 10, 4, 49, 0, 882972), None, True, '9a6ff2d81626bec7926cf4c4ca8d0a19f061780b18a9be19afd4884cebdcbe25', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('68abe76e-1e97-41c3-b987-21143b6464c7'))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-10 00:49:00,905 - app.middleware.auth - INFO - Request completed: POST /api/v1/auth/register - Status: 500 - Time: 0.157s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768
2025-09-10 00:50:50,354 - app.services.auth_service - INFO - Starting registration for email: testuser2@example.com
2025-09-10 00:50:50,360 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:50:50,361 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.username, users.password_hash, users.first_name, users.last_name, users.display_name, users.profile_picture_url, users.bio, users.phone_number, users.date_of_birth, users.is_active, users.is_verified, users.email_verification_token, users.email_verification_expires, users.is_staff, users.is_superuser, users.last_login, users.last_login_ip, users.failed_login_attempts, users.account_locked_until, users.password_changed_at, users.password_reset_token, users.password_reset_expires, users.last_activity, users.login_count, users.email_notifications, users.marketing_emails, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-10 00:50:50,362 - sqlalchemy.engine.Engine - INFO - [cached since 109.6s ago] ('testuser2@example.com',)
2025-09-10 00:50:50,364 - app.services.auth_service - INFO - Email testuser2@example.com is available, proceeding with registration
2025-09-10 00:50:50,451 - app.services.auth_service - INFO - Password hashed successfully
2025-09-10 00:50:50,452 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (email, username, password_hash, first_name, last_name, display_name, profile_picture_url, bio, phone_number, date_of_birth, is_active, is_verified, email_verification_token, email_verification_expires, is_staff, is_superuser, last_login, last_login_ip, failed_login_attempts, account_locked_until, password_changed_at, password_reset_token, password_reset_expires, last_activity, login_count, email_notifications, marketing_emails, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::TIMESTAMP WITH TIME ZONE, $11::BOOLEAN, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::BOOLEAN, $16::BOOLEAN, $17::TIMESTAMP WITH TIME ZONE, $18::VARCHAR, $19::INTEGER, $20::TIMESTAMP WITH TIME ZONE, $21::TIMESTAMP WITH TIME ZONE, $22::VARCHAR, $23::TIMESTAMP WITH TIME ZONE, $24::TIMESTAMP WITH TIME ZONE, $25::INTEGER, $26::BOOLEAN, $27::BOOLEAN, $28::UUID) RETURNING users.created_at, users.updated_at
2025-09-10 00:50:50,452 - sqlalchemy.engine.Engine - INFO - [cached since 109.6s ago] ('testuser2@example.com', None, '$argon2id$v=19$m=102400,t=4,p=8$hzDG2Nt7r7XW+n/vHYMwhg$+uEvDf6SsfhRzKklfvD5ecxdMR2zlGayp8eLkN+C+Ic', None, None, None, None, None, None, None, True, False, 'epDpNZgeWny3-vIHDbibI0pM2jQlgnVbKHnrFJdraFA', datetime.datetime(2025, 9, 11, 4, 50, 50, 451461), False, False, None, None, 0, None, None, None, None, None, 0, True, False, UUID('cb003900-8290-4b6c-b07b-945661cfe1d0'))
2025-09-10 00:50:50,455 - app.services.auth_service - INFO - User created with ID: cb003900-8290-4b6c-b07b-945661cfe1d0
2025-09-10 00:50:50,455 - app.services.auth_service - INFO - Password history entry created
2025-09-10 00:50:50,456 - sqlalchemy.engine.Engine - INFO - INSERT INTO password_history (user_id, password_hash, strength_score, entropy, length, has_uppercase, has_lowercase, has_digits, has_symbols, is_compromised, compromise_source, policy_compliant, policy_violations, set_at, replaced_at, last_used, usage_count, change_reason, ip_address, id) VALUES ($1::UUID, $2::VARCHAR, $3::FLOAT, $4::FLOAT, $5::INTEGER, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::BOOLEAN, $11::VARCHAR, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::UUID) RETURNING password_history.created_at, password_history.updated_at
2025-09-10 00:50:50,456 - sqlalchemy.engine.Engine - INFO - [cached since 109.6s ago] (UUID('cb003900-8290-4b6c-b07b-945661cfe1d0'), '$argon2id$v=19$m=102400,t=4,p=8$hzDG2Nt7r7XW+n/vHYMwhg$+uEvDf6SsfhRzKklfvD5ecxdMR2zlGayp8eLkN+C+Ic', 1.0, None, 18, True, True, True, True, False, None, True, None, datetime.datetime(2025, 9, 10, 4, 50, 50, 455504), None, None, 0, 'initial_registration', '127.0.0.1', UUID('fa628aec-217d-4053-8885-82f68042b3cc'))
2025-09-10 00:50:50,459 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at
2025-09-10 00:50:50,459 - sqlalchemy.engine.Engine - INFO - [cached since 109.6s ago] (UUID('cb003900-8290-4b6c-b07b-945661cfe1d0'), '9cBvHgc6--NNdAOTc9cNPcWGHWvfK_LGKPAzwNOFh0Y', None, datetime.datetime(2025, 10, 10, 4, 50, 50, 455822), None, True, '585c79dc5715a38f7cf8e6d08b5956d4e5505db8a923fc4055e5f9478d5610f8', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('25ef399e-43d3-4453-9c1c-b0b24820b06f'))
2025-09-10 00:50:50,461 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-10 00:50:50,463 - app.services.auth_service - ERROR - Registration failed for testuser2@example.com: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (cb003900-8290-4b6c-b07b-945661cfe1d0, 9cBvHgc6--NNdAOTc9cNPcWGHWvfK_LGKPAzwNOFh0Y, null, 2025-10-10 08:50:50.455822+00, null, t, 585c79dc5715a38f7cf8e6d08b5956d4e5505db8a923fc4055e5f9478d5610f8, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, 25ef399e-43d3-4453-9c1c-b0b24820b06f, 2025-09-10 04:50:50.36248+00, 2025-09-10 04:50:50.36248+00).
[SQL: INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at]
[parameters: (UUID('cb003900-8290-4b6c-b07b-945661cfe1d0'), '9cBvHgc6--NNdAOTc9cNPcWGHWvfK_LGKPAzwNOFh0Y', None, datetime.datetime(2025, 10, 10, 4, 50, 50, 455822), None, True, '585c79dc5715a38f7cf8e6d08b5956d4e5505db8a923fc4055e5f9478d5610f8', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('25ef399e-43d3-4453-9c1c-b0b24820b06f'))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-10 00:50:50,463 - app.services.auth_service - ERROR - Full exception details:
Traceback (most recent call last):
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
        lambda protocol: protocol.bind_execute(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            self._state, args, '', limit, True, timeout))
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (cb003900-8290-4b6c-b07b-945661cfe1d0, 9cBvHgc6--NNdAOTc9cNPcWGHWvfK_LGKPAzwNOFh0Y, null, 2025-10-10 08:50:50.455822+00, null, t, 585c79dc5715a38f7cf8e6d08b5956d4e5505db8a923fc4055e5f9478d5610f8, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, 25ef399e-43d3-4453-9c1c-b0b24820b06f, 2025-09-10 04:50:50.36248+00, 2025-09-10 04:50:50.36248+00).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (cb003900-8290-4b6c-b07b-945661cfe1d0, 9cBvHgc6--NNdAOTc9cNPcWGHWvfK_LGKPAzwNOFh0Y, null, 2025-10-10 08:50:50.455822+00, null, t, 585c79dc5715a38f7cf8e6d08b5956d4e5505db8a923fc4055e5f9478d5610f8, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, 25ef399e-43d3-4453-9c1c-b0b24820b06f, 2025-09-10 04:50:50.36248+00, 2025-09-10 04:50:50.36248+00).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\services\auth_service.py", line 133, in register_user
    login_method="password"
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 801, in flush
    await greenlet_spawn(self.sync_session.flush, objects=objects)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (cb003900-8290-4b6c-b07b-945661cfe1d0, 9cBvHgc6--NNdAOTc9cNPcWGHWvfK_LGKPAzwNOFh0Y, null, 2025-10-10 08:50:50.455822+00, null, t, 585c79dc5715a38f7cf8e6d08b5956d4e5505db8a923fc4055e5f9478d5610f8, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, 25ef399e-43d3-4453-9c1c-b0b24820b06f, 2025-09-10 04:50:50.36248+00, 2025-09-10 04:50:50.36248+00).
[SQL: INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at]
[parameters: (UUID('cb003900-8290-4b6c-b07b-945661cfe1d0'), '9cBvHgc6--NNdAOTc9cNPcWGHWvfK_LGKPAzwNOFh0Y', None, datetime.datetime(2025, 10, 10, 4, 50, 50, 455822), None, True, '585c79dc5715a38f7cf8e6d08b5956d4e5505db8a923fc4055e5f9478d5610f8', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('25ef399e-43d3-4453-9c1c-b0b24820b06f'))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-10 00:50:50,469 - app.middleware.auth - INFO - Request completed: POST /api/v1/auth/register - Status: 500 - Time: 0.117s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768
2025-09-10 00:53:41,778 - app.services.auth_service - INFO - Starting registration for email: fixeduser@example.com
2025-09-10 00:53:41,785 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:53:41,785 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.username, users.password_hash, users.first_name, users.last_name, users.display_name, users.profile_picture_url, users.bio, users.phone_number, users.date_of_birth, users.is_active, users.is_verified, users.email_verification_token, users.email_verification_expires, users.is_staff, users.is_superuser, users.last_login, users.last_login_ip, users.failed_login_attempts, users.account_locked_until, users.password_changed_at, users.password_reset_token, users.password_reset_expires, users.last_activity, users.login_count, users.email_notifications, users.marketing_emails, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-10 00:53:41,786 - sqlalchemy.engine.Engine - INFO - [cached since 281s ago] ('fixeduser@example.com',)
2025-09-10 00:53:41,788 - app.services.auth_service - INFO - Email fixeduser@example.com is available, proceeding with registration
2025-09-10 00:53:41,894 - app.services.auth_service - INFO - Password hashed successfully
2025-09-10 00:53:41,895 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (email, username, password_hash, first_name, last_name, display_name, profile_picture_url, bio, phone_number, date_of_birth, is_active, is_verified, email_verification_token, email_verification_expires, is_staff, is_superuser, last_login, last_login_ip, failed_login_attempts, account_locked_until, password_changed_at, password_reset_token, password_reset_expires, last_activity, login_count, email_notifications, marketing_emails, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::TIMESTAMP WITH TIME ZONE, $11::BOOLEAN, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::BOOLEAN, $16::BOOLEAN, $17::TIMESTAMP WITH TIME ZONE, $18::VARCHAR, $19::INTEGER, $20::TIMESTAMP WITH TIME ZONE, $21::TIMESTAMP WITH TIME ZONE, $22::VARCHAR, $23::TIMESTAMP WITH TIME ZONE, $24::TIMESTAMP WITH TIME ZONE, $25::INTEGER, $26::BOOLEAN, $27::BOOLEAN, $28::UUID) RETURNING users.created_at, users.updated_at
2025-09-10 00:53:41,896 - sqlalchemy.engine.Engine - INFO - [cached since 281s ago] ('fixeduser@example.com', None, '$argon2id$v=19$m=102400,t=4,p=8$yFnLmTNmDOGcU0oJAQDgPA$WcuhSQ5mqjIOMwTBW/lzcxZInRtlybwp4XHC3T0Uv+E', None, None, None, None, None, None, None, True, False, 'Davkh8yATSAFhdKVCKib5PQUfgd0EjGYeTuuVEZ11LM', datetime.datetime(2025, 9, 11, 4, 53, 41, 894989), False, False, None, None, 0, None, None, None, None, None, 0, True, False, UUID('f8894e3e-6b73-4b85-a001-190c9154e0e9'))
2025-09-10 00:53:41,898 - app.services.auth_service - INFO - User created with ID: f8894e3e-6b73-4b85-a001-190c9154e0e9
2025-09-10 00:53:41,898 - app.services.auth_service - INFO - Password history entry created
2025-09-10 00:53:41,899 - sqlalchemy.engine.Engine - INFO - INSERT INTO password_history (user_id, password_hash, strength_score, entropy, length, has_uppercase, has_lowercase, has_digits, has_symbols, is_compromised, compromise_source, policy_compliant, policy_violations, set_at, replaced_at, last_used, usage_count, change_reason, ip_address, id) VALUES ($1::UUID, $2::VARCHAR, $3::FLOAT, $4::FLOAT, $5::INTEGER, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::BOOLEAN, $11::VARCHAR, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::UUID) RETURNING password_history.created_at, password_history.updated_at
2025-09-10 00:53:41,899 - sqlalchemy.engine.Engine - INFO - [cached since 281s ago] (UUID('f8894e3e-6b73-4b85-a001-190c9154e0e9'), '$argon2id$v=19$m=102400,t=4,p=8$yFnLmTNmDOGcU0oJAQDgPA$WcuhSQ5mqjIOMwTBW/lzcxZInRtlybwp4XHC3T0Uv+E', 1.0, None, 18, True, True, True, True, False, None, True, None, datetime.datetime(2025, 9, 10, 4, 53, 41, 898390), None, None, 0, 'initial_registration', '127.0.0.1', UUID('7a06a3af-b72b-481e-9f53-0610e1f78f1d'))
2025-09-10 00:53:41,902 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at
2025-09-10 00:53:41,902 - sqlalchemy.engine.Engine - INFO - [cached since 281s ago] (UUID('f8894e3e-6b73-4b85-a001-190c9154e0e9'), 'ktxYLANQAbkwcXFDM9rDPMxHc0HhUnIb8sFbHVp0x4I', None, datetime.datetime(2025, 10, 10, 4, 53, 41, 898719), None, True, '3e215faf272ee31a55fed916e5b079b77d007d43a10f1445e3972b14359351b1', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('24b1e186-b7c6-45b1-8f82-27ca225ff7e2'))
2025-09-10 00:53:41,904 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-10 00:53:41,906 - app.services.auth_service - ERROR - Registration failed for fixeduser@example.com: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (f8894e3e-6b73-4b85-a001-190c9154e0e9, ktxYLANQAbkwcXFDM9rDPMxHc0HhUnIb8sFbHVp0x4I, null, 2025-10-10 08:53:41.898719+00, null, t, 3e215faf272ee31a55fed916e5b079b77d007d43a10f1445e3972b14359351b1, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, 24b1e186-b7c6-45b1-8f82-27ca225ff7e2, 2025-09-10 04:53:41.78565+00, 2025-09-10 04:53:41.78565+00).
[SQL: INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at]
[parameters: (UUID('f8894e3e-6b73-4b85-a001-190c9154e0e9'), 'ktxYLANQAbkwcXFDM9rDPMxHc0HhUnIb8sFbHVp0x4I', None, datetime.datetime(2025, 10, 10, 4, 53, 41, 898719), None, True, '3e215faf272ee31a55fed916e5b079b77d007d43a10f1445e3972b14359351b1', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('24b1e186-b7c6-45b1-8f82-27ca225ff7e2'))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-10 00:53:41,907 - app.services.auth_service - ERROR - Full exception details:
Traceback (most recent call last):
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\asyncpg\prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
        lambda protocol: protocol.bind_execute(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            self._state, args, '', limit, True, timeout))
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\asyncpg\prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg\\protocol\\protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (f8894e3e-6b73-4b85-a001-190c9154e0e9, ktxYLANQAbkwcXFDM9rDPMxHc0HhUnIb8sFbHVp0x4I, null, 2025-10-10 08:53:41.898719+00, null, t, 3e215faf272ee31a55fed916e5b079b77d007d43a10f1445e3972b14359351b1, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, 24b1e186-b7c6-45b1-8f82-27ca225ff7e2, 2025-09-10 04:53:41.78565+00, 2025-09-10 04:53:41.78565+00).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (f8894e3e-6b73-4b85-a001-190c9154e0e9, ktxYLANQAbkwcXFDM9rDPMxHc0HhUnIb8sFbHVp0x4I, null, 2025-10-10 08:53:41.898719+00, null, t, 3e215faf272ee31a55fed916e5b079b77d007d43a10f1445e3972b14359351b1, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, 24b1e186-b7c6-45b1-8f82-27ca225ff7e2, 2025-09-10 04:53:41.78565+00, 2025-09-10 04:53:41.78565+00).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\services\auth_service.py", line 133, in register_user
    login_method="password"
    ^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 801, in flush
    await greenlet_spawn(self.sync_session.flush, objects=objects)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 4345, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 4480, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\session.py", line 4441, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "last_accessed" of relation "user_sessions" violates not-null constraint
DETAIL:  Failing row contains (f8894e3e-6b73-4b85-a001-190c9154e0e9, ktxYLANQAbkwcXFDM9rDPMxHc0HhUnIb8sFbHVp0x4I, null, 2025-10-10 08:53:41.898719+00, null, t, 3e215faf272ee31a55fed916e5b079b77d007d43a10f1445e3972b14359351b1, Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShe..., 127.0.0.1, f, null, password, null, 24b1e186-b7c6-45b1-8f82-27ca225ff7e2, 2025-09-10 04:53:41.78565+00, 2025-09-10 04:53:41.78565+00).
[SQL: INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at]
[parameters: (UUID('f8894e3e-6b73-4b85-a001-190c9154e0e9'), 'ktxYLANQAbkwcXFDM9rDPMxHc0HhUnIb8sFbHVp0x4I', None, datetime.datetime(2025, 10, 10, 4, 53, 41, 898719), None, True, '3e215faf272ee31a55fed916e5b079b77d007d43a10f1445e3972b14359351b1', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('24b1e186-b7c6-45b1-8f82-27ca225ff7e2'))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-10 00:53:41,912 - app.middleware.auth - INFO - Request completed: POST /api/v1/auth/register - Status: 500 - Time: 0.135s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768
2025-09-10 00:54:42,343 - app.core.database - INFO - Closing database connections. Final pool stats: {'pool_size': <bound method QueuePool.size of <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x000001665BB092B0>>, 'checked_in': 0, 'checked_out': 0, 'overflow': -4, 'invalid': 0}
2025-09-10 00:54:46,215 - main - INFO - Environment: development
2025-09-10 00:54:46,216 - main - INFO - Debug mode: True
2025-09-10 00:54:46,267 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-10 00:54:46,267 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:54:46,270 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-10 00:54:46,270 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:54:46,273 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-10 00:54:46,273 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:54:46,278 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:54:46,278 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-10 00:54:46,279 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ()
2025-09-10 00:54:46,282 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-10 00:54:46,282 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ()
2025-09-10 00:54:46,288 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-10 00:54:46,289 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:54:46,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:54:46,298 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:55:06,312 - app.services.auth_service - INFO - Starting registration for email: fixeduser@example.com
2025-09-10 00:55:06,329 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:55:06,332 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.username, users.password_hash, users.first_name, users.last_name, users.display_name, users.profile_picture_url, users.bio, users.phone_number, users.date_of_birth, users.is_active, users.is_verified, users.email_verification_token, users.email_verification_expires, users.is_staff, users.is_superuser, users.last_login, users.last_login_ip, users.failed_login_attempts, users.account_locked_until, users.password_changed_at, users.password_reset_token, users.password_reset_expires, users.last_activity, users.login_count, users.email_notifications, users.marketing_emails, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-10 00:55:06,332 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] ('fixeduser@example.com',)
2025-09-10 00:55:06,337 - app.services.auth_service - INFO - Email fixeduser@example.com is available, proceeding with registration
2025-09-10 00:55:06,424 - app.services.auth_service - INFO - Password hashed successfully
2025-09-10 00:55:06,427 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (email, username, password_hash, first_name, last_name, display_name, profile_picture_url, bio, phone_number, date_of_birth, is_active, is_verified, email_verification_token, email_verification_expires, is_staff, is_superuser, last_login, last_login_ip, failed_login_attempts, account_locked_until, password_changed_at, password_reset_token, password_reset_expires, last_activity, login_count, email_notifications, marketing_emails, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::TIMESTAMP WITH TIME ZONE, $11::BOOLEAN, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::BOOLEAN, $16::BOOLEAN, $17::TIMESTAMP WITH TIME ZONE, $18::VARCHAR, $19::INTEGER, $20::TIMESTAMP WITH TIME ZONE, $21::TIMESTAMP WITH TIME ZONE, $22::VARCHAR, $23::TIMESTAMP WITH TIME ZONE, $24::TIMESTAMP WITH TIME ZONE, $25::INTEGER, $26::BOOLEAN, $27::BOOLEAN, $28::UUID) RETURNING users.created_at, users.updated_at
2025-09-10 00:55:06,427 - sqlalchemy.engine.Engine - INFO - [generated in 0.00083s] ('fixeduser@example.com', None, '$argon2id$v=19$m=102400,t=4,p=8$0TpnrNU6Z6y1lnJOKWXM2Q$Jtj+dLI/9ughIkq49HbJPvkeiBK8Bz/HB+Jud/BtAFk', None, None, None, None, None, None, None, True, False, 'iRZuRZOP5QI2_eV8Tpb8UY1qn6hRjhdGhMfofy-tous', datetime.datetime(2025, 9, 11, 4, 55, 6, 425081), False, False, None, None, 0, None, None, None, None, None, 0, True, False, UUID('ccf46b74-bf87-4694-8027-c9b9f59156a6'))
2025-09-10 00:55:06,431 - app.services.auth_service - INFO - User created with ID: ccf46b74-bf87-4694-8027-c9b9f59156a6
2025-09-10 00:55:06,431 - app.services.auth_service - INFO - Password history entry created
2025-09-10 00:55:06,433 - sqlalchemy.engine.Engine - INFO - INSERT INTO password_history (user_id, password_hash, strength_score, entropy, length, has_uppercase, has_lowercase, has_digits, has_symbols, is_compromised, compromise_source, policy_compliant, policy_violations, set_at, replaced_at, last_used, usage_count, change_reason, ip_address, id) VALUES ($1::UUID, $2::VARCHAR, $3::FLOAT, $4::FLOAT, $5::INTEGER, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::BOOLEAN, $11::VARCHAR, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::UUID) RETURNING password_history.created_at, password_history.updated_at
2025-09-10 00:55:06,433 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] (UUID('ccf46b74-bf87-4694-8027-c9b9f59156a6'), '$argon2id$v=19$m=102400,t=4,p=8$0TpnrNU6Z6y1lnJOKWXM2Q$Jtj+dLI/9ughIkq49HbJPvkeiBK8Bz/HB+Jud/BtAFk', 1.0, None, 18, True, True, True, True, False, None, True, None, datetime.datetime(2025, 9, 10, 4, 55, 6, 431525), None, None, 0, 'initial_registration', '127.0.0.1', UUID('027fcacd-9255-47e9-832e-ca6680d4a3f5'))
2025-09-10 00:55:06,438 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at
2025-09-10 00:55:06,438 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] (UUID('ccf46b74-bf87-4694-8027-c9b9f59156a6'), 'ewUZpJXq3cpv8ZaP8s1Bl5esHW9N9JC6hB6MyiKjO5E', None, datetime.datetime(2025, 10, 10, 4, 55, 6, 431872), datetime.datetime(2025, 9, 10, 4, 55, 6, 431872), True, '85f239acf0363364dbcbf7db6e56be933a4588f7b946f9469b9012dbeef9d4a5', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('b65438b0-276e-4616-b4d4-07cec78c91be'))
2025-09-10 00:55:06,451 - app.services.auth_service - INFO - User session created with ID: b65438b0-276e-4616-b4d4-07cec78c91be
2025-09-10 00:55:06,451 - app.services.auth_service - INFO - Login history entry created
2025-09-10 00:55:06,453 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_history (user_id, session_id, login_type, result, email_attempted, username_attempted, ip_address, user_agent, device_fingerprint, country, city, risk_score, is_suspicious, failure_reason, mfa_method, mfa_successful, duration_ms, id) VALUES ($1::UUID, $2::UUID, $3::login_type_enum, $4::login_result_enum, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::FLOAT, $13::BOOLEAN, $14::VARCHAR, $15::VARCHAR, $16::BOOLEAN, $17::INTEGER, $18::UUID) RETURNING login_history.created_at, login_history.updated_at
2025-09-10 00:55:06,453 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] (UUID('ccf46b74-bf87-4694-8027-c9b9f59156a6'), UUID('b65438b0-276e-4616-b4d4-07cec78c91be'), 'password', 'success', 'fixeduser@example.com', None, '127.0.0.1', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', None, None, None, None, False, None, None, None, 19, UUID('5aa0e5b7-eabc-4115-917a-e3bebddb5851'))
2025-09-10 00:55:06,473 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:55:06,476 - app.services.auth_service - INFO - User registration completed successfully for fixeduser@example.com
2025-09-10 00:55:06,480 - app.middleware.auth - ERROR - Request failed: POST /api/v1/auth/register - Error: 1 validation error for AuthResponse
tokens
  Field required [type=missing, input_value={'message': 'User registe...10-10T04:55:06.431872'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - Time: 0.173s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768
2025-09-10 00:55:06,481 - main - ERROR - Unexpected error: 1 validation error for AuthResponse
tokens
  Field required [type=missing, input_value={'message': 'User registe...10-10T04:55:06.431872'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 183, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 53, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 132, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 158, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 75, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 302, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\api\v1\auth\endpoints.py", line 111, in register
    |     return AuthResponse(**result)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 253, in __init__
    |     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
    | pydantic_core._pydantic_core.ValidationError: 1 validation error for AuthResponse
    | tokens
    |   Field required [type=missing, input_value={'message': 'User registe...10-10T04:55:06.431872'}}, input_type=dict]
    |     For further information visit https://errors.pydantic.dev/2.11/v/missing
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 53, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 132, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 158, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\api\v1\auth\endpoints.py", line 111, in register
    return AuthResponse(**result)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for AuthResponse
tokens
  Field required [type=missing, input_value={'message': 'User registe...10-10T04:55:06.431872'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-09-10 00:56:30,777 - main - INFO - Environment: development
2025-09-10 00:56:30,777 - main - INFO - Debug mode: True
2025-09-10 00:56:30,827 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-10 00:56:30,827 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:56:30,834 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-10 00:56:30,835 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:56:30,840 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-10 00:56:30,841 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-10 00:56:30,844 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:56:30,845 - sqlalchemy.engine.Engine - INFO - SELECT 1 as test
2025-09-10 00:56:30,846 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] ()
2025-09-10 00:56:30,851 - sqlalchemy.engine.Engine - INFO - SELECT version()
2025-09-10 00:56:30,851 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ()
2025-09-10 00:56:30,862 - app.core.database - INFO - Database version: PostgreSQL 17.6 (Debian 17.6-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-09-10 00:56:30,862 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:56:30,875 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:56:30,875 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:57:21,932 - app.services.auth_service - INFO - Starting registration for email: working@example.com
2025-09-10 00:57:21,948 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:57:21,950 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.username, users.password_hash, users.first_name, users.last_name, users.display_name, users.profile_picture_url, users.bio, users.phone_number, users.date_of_birth, users.is_active, users.is_verified, users.email_verification_token, users.email_verification_expires, users.is_staff, users.is_superuser, users.last_login, users.last_login_ip, users.failed_login_attempts, users.account_locked_until, users.password_changed_at, users.password_reset_token, users.password_reset_expires, users.last_activity, users.login_count, users.email_notifications, users.marketing_emails, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-10 00:57:21,951 - sqlalchemy.engine.Engine - INFO - [generated in 0.00087s] ('working@example.com',)
2025-09-10 00:57:21,957 - app.services.auth_service - INFO - Email working@example.com is available, proceeding with registration
2025-09-10 00:57:22,043 - app.services.auth_service - INFO - Password hashed successfully
2025-09-10 00:57:22,045 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (email, username, password_hash, first_name, last_name, display_name, profile_picture_url, bio, phone_number, date_of_birth, is_active, is_verified, email_verification_token, email_verification_expires, is_staff, is_superuser, last_login, last_login_ip, failed_login_attempts, account_locked_until, password_changed_at, password_reset_token, password_reset_expires, last_activity, login_count, email_notifications, marketing_emails, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::TIMESTAMP WITH TIME ZONE, $11::BOOLEAN, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::BOOLEAN, $16::BOOLEAN, $17::TIMESTAMP WITH TIME ZONE, $18::VARCHAR, $19::INTEGER, $20::TIMESTAMP WITH TIME ZONE, $21::TIMESTAMP WITH TIME ZONE, $22::VARCHAR, $23::TIMESTAMP WITH TIME ZONE, $24::TIMESTAMP WITH TIME ZONE, $25::INTEGER, $26::BOOLEAN, $27::BOOLEAN, $28::UUID) RETURNING users.created_at, users.updated_at
2025-09-10 00:57:22,046 - sqlalchemy.engine.Engine - INFO - [generated in 0.00076s] ('working@example.com', None, '$argon2id$v=19$m=102400,t=4,p=8$N8Y4R0iJcY6x9p5z7h0jhA$TLk0EB33iveZlsK2kFvJg+UE+7dWB6y+dKoZX0VjKyI', None, None, None, None, None, None, None, True, False, 'KZTUOHHzRzmhfmQQGnQI5z5wILfMiF9mwSZ1hAoD_cM', datetime.datetime(2025, 9, 11, 4, 57, 22, 43604), False, False, None, None, 0, None, None, None, None, None, 0, True, False, UUID('b59b35bd-f701-4a2f-b933-175b0f65664f'))
2025-09-10 00:57:22,050 - app.services.auth_service - INFO - User created with ID: b59b35bd-f701-4a2f-b933-175b0f65664f
2025-09-10 00:57:22,051 - app.services.auth_service - INFO - Password history entry created
2025-09-10 00:57:22,053 - sqlalchemy.engine.Engine - INFO - INSERT INTO password_history (user_id, password_hash, strength_score, entropy, length, has_uppercase, has_lowercase, has_digits, has_symbols, is_compromised, compromise_source, policy_compliant, policy_violations, set_at, replaced_at, last_used, usage_count, change_reason, ip_address, id) VALUES ($1::UUID, $2::VARCHAR, $3::FLOAT, $4::FLOAT, $5::INTEGER, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::BOOLEAN, $11::VARCHAR, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::UUID) RETURNING password_history.created_at, password_history.updated_at
2025-09-10 00:57:22,054 - sqlalchemy.engine.Engine - INFO - [generated in 0.00075s] (UUID('b59b35bd-f701-4a2f-b933-175b0f65664f'), '$argon2id$v=19$m=102400,t=4,p=8$N8Y4R0iJcY6x9p5z7h0jhA$TLk0EB33iveZlsK2kFvJg+UE+7dWB6y+dKoZX0VjKyI', 1.0, None, 18, True, True, True, True, False, None, True, None, datetime.datetime(2025, 9, 10, 4, 57, 22, 51124), None, None, 0, 'initial_registration', '127.0.0.1', UUID('7e72a95b-4666-4b5c-b514-1797a7e0cb29'))
2025-09-10 00:57:22,059 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at
2025-09-10 00:57:22,059 - sqlalchemy.engine.Engine - INFO - [generated in 0.00074s] (UUID('b59b35bd-f701-4a2f-b933-175b0f65664f'), 'roqg0KXJNRu0s1OhsscP--Y3mibcgQTqoZYzn0uOSzM', None, datetime.datetime(2025, 10, 10, 4, 57, 22, 51656), datetime.datetime(2025, 9, 10, 4, 57, 22, 51656), True, '5c9c2ae9373fb35c38aa54b933879400bc3a04e41332354633ad64590b734131', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('03569dae-2b42-4048-87f0-9929e0c9e9ef'))
2025-09-10 00:57:22,063 - app.services.auth_service - INFO - User session created with ID: 03569dae-2b42-4048-87f0-9929e0c9e9ef
2025-09-10 00:57:22,064 - app.services.auth_service - INFO - Login history entry created
2025-09-10 00:57:22,066 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_history (user_id, session_id, login_type, result, email_attempted, username_attempted, ip_address, user_agent, device_fingerprint, country, city, risk_score, is_suspicious, failure_reason, mfa_method, mfa_successful, duration_ms, id) VALUES ($1::UUID, $2::UUID, $3::login_type_enum, $4::login_result_enum, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::FLOAT, $13::BOOLEAN, $14::VARCHAR, $15::VARCHAR, $16::BOOLEAN, $17::INTEGER, $18::UUID) RETURNING login_history.created_at, login_history.updated_at
2025-09-10 00:57:22,066 - sqlalchemy.engine.Engine - INFO - [generated in 0.00078s] (UUID('b59b35bd-f701-4a2f-b933-175b0f65664f'), UUID('03569dae-2b42-4048-87f0-9929e0c9e9ef'), 'password', 'success', 'working@example.com', None, '127.0.0.1', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', None, None, None, None, False, None, None, None, 12, UUID('ea3d4485-6aa6-448c-a4e7-668ff9454323'))
2025-09-10 00:57:22,079 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:57:22,092 - app.services.auth_service - INFO - User registration completed successfully for working@example.com
2025-09-10 00:57:22,093 - app.middleware.auth - ERROR - Request failed: POST /api/v1/auth/register - Error: 1 validation error for AuthResponse
tokens
  Field required [type=missing, input_value={'message': 'User registe...10-10T04:57:22.051656'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - Time: 0.167s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768
2025-09-10 00:57:22,093 - main - ERROR - Unexpected error: 1 validation error for AuthResponse
tokens
  Field required [type=missing, input_value={'message': 'User registe...10-10T04:57:22.051656'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 183, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 53, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 132, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 158, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 75, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 302, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\api\v1\auth\endpoints.py", line 111, in register
    |     return AuthResponse(**result)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 253, in __init__
    |     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
    | pydantic_core._pydantic_core.ValidationError: 1 validation error for AuthResponse
    | tokens
    |   Field required [type=missing, input_value={'message': 'User registe...10-10T04:57:22.051656'}}, input_type=dict]
    |     For further information visit https://errors.pydantic.dev/2.11/v/missing
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 53, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 132, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 158, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\api\v1\auth\endpoints.py", line 111, in register
    return AuthResponse(**result)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for AuthResponse
tokens
  Field required [type=missing, input_value={'message': 'User registe...10-10T04:57:22.051656'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-09-10 01:01:06,282 - app.services.auth_service - INFO - Starting registration for email: finaltest@example.com
2025-09-10 01:01:06,288 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:01:06,289 - sqlalchemy.engine.Engine - INFO - SELECT users.email, users.username, users.password_hash, users.first_name, users.last_name, users.display_name, users.profile_picture_url, users.bio, users.phone_number, users.date_of_birth, users.is_active, users.is_verified, users.email_verification_token, users.email_verification_expires, users.is_staff, users.is_superuser, users.last_login, users.last_login_ip, users.failed_login_attempts, users.account_locked_until, users.password_changed_at, users.password_reset_token, users.password_reset_expires, users.last_activity, users.login_count, users.email_notifications, users.marketing_emails, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR
2025-09-10 01:01:06,290 - sqlalchemy.engine.Engine - INFO - [cached since 224.3s ago] ('finaltest@example.com',)
2025-09-10 01:01:06,293 - app.services.auth_service - INFO - Email finaltest@example.com is available, proceeding with registration
2025-09-10 01:01:06,383 - app.services.auth_service - INFO - Password hashed successfully
2025-09-10 01:01:06,384 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (email, username, password_hash, first_name, last_name, display_name, profile_picture_url, bio, phone_number, date_of_birth, is_active, is_verified, email_verification_token, email_verification_expires, is_staff, is_superuser, last_login, last_login_ip, failed_login_attempts, account_locked_until, password_changed_at, password_reset_token, password_reset_expires, last_activity, login_count, email_notifications, marketing_emails, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::TIMESTAMP WITH TIME ZONE, $11::BOOLEAN, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::BOOLEAN, $16::BOOLEAN, $17::TIMESTAMP WITH TIME ZONE, $18::VARCHAR, $19::INTEGER, $20::TIMESTAMP WITH TIME ZONE, $21::TIMESTAMP WITH TIME ZONE, $22::VARCHAR, $23::TIMESTAMP WITH TIME ZONE, $24::TIMESTAMP WITH TIME ZONE, $25::INTEGER, $26::BOOLEAN, $27::BOOLEAN, $28::UUID) RETURNING users.created_at, users.updated_at
2025-09-10 01:01:06,385 - sqlalchemy.engine.Engine - INFO - [cached since 224.3s ago] ('finaltest@example.com', None, '$argon2id$v=19$m=102400,t=4,p=8$mXOO0drbG0NIyVmrNUZIaQ$5Rp9Xi5bYDhwhu2W35+4oXih13K+zvpm877nThH7/EE', None, None, None, None, None, None, None, True, False, 'u3BUApk6ZJL3nskWw3uFv4vw_FSBdKNHJiEwZTVmtmw', datetime.datetime(2025, 9, 11, 5, 1, 6, 384225), False, False, None, None, 0, None, None, None, None, None, 0, True, False, UUID('72fa18f6-a30e-4ad8-9a30-ba1d4bedc09f'))
2025-09-10 01:01:06,388 - app.services.auth_service - INFO - User created with ID: 72fa18f6-a30e-4ad8-9a30-ba1d4bedc09f
2025-09-10 01:01:06,388 - app.services.auth_service - INFO - Password history entry created
2025-09-10 01:01:06,389 - sqlalchemy.engine.Engine - INFO - INSERT INTO password_history (user_id, password_hash, strength_score, entropy, length, has_uppercase, has_lowercase, has_digits, has_symbols, is_compromised, compromise_source, policy_compliant, policy_violations, set_at, replaced_at, last_used, usage_count, change_reason, ip_address, id) VALUES ($1::UUID, $2::VARCHAR, $3::FLOAT, $4::FLOAT, $5::INTEGER, $6::BOOLEAN, $7::BOOLEAN, $8::BOOLEAN, $9::BOOLEAN, $10::BOOLEAN, $11::VARCHAR, $12::BOOLEAN, $13::VARCHAR, $14::TIMESTAMP WITH TIME ZONE, $15::TIMESTAMP WITH TIME ZONE, $16::TIMESTAMP WITH TIME ZONE, $17::INTEGER, $18::VARCHAR, $19::VARCHAR, $20::UUID) RETURNING password_history.created_at, password_history.updated_at
2025-09-10 01:01:06,389 - sqlalchemy.engine.Engine - INFO - [cached since 224.3s ago] (UUID('72fa18f6-a30e-4ad8-9a30-ba1d4bedc09f'), '$argon2id$v=19$m=102400,t=4,p=8$mXOO0drbG0NIyVmrNUZIaQ$5Rp9Xi5bYDhwhu2W35+4oXih13K+zvpm877nThH7/EE', 1.0, None, 18, True, True, True, True, False, None, True, None, datetime.datetime(2025, 9, 10, 5, 1, 6, 388387), None, None, 0, 'initial_registration', '127.0.0.1', UUID('8875589b-49ff-423b-9570-76599b0fe09f'))
2025-09-10 01:01:06,392 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_sessions (user_id, session_token, refresh_token, expires_at, last_accessed, is_active, device_fingerprint, user_agent, ip_address, is_mfa_verified, mfa_verified_at, login_method, revoked_at, id) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::TIMESTAMP WITH TIME ZONE, $5::TIMESTAMP WITH TIME ZONE, $6::BOOLEAN, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::BOOLEAN, $11::TIMESTAMP WITH TIME ZONE, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE, $14::UUID) RETURNING user_sessions.created_at, user_sessions.updated_at
2025-09-10 01:01:06,392 - sqlalchemy.engine.Engine - INFO - [cached since 224.3s ago] (UUID('72fa18f6-a30e-4ad8-9a30-ba1d4bedc09f'), '6mhcAijlHNZr2MYD667g9NT2giV2d38a2rw8ZQ1idBo', None, datetime.datetime(2025, 10, 10, 5, 1, 6, 388706), datetime.datetime(2025, 9, 10, 5, 1, 6, 388706), True, '7412accda59f7f0f9e1c9ed699a68e7509c91faceb1bc2752de373ee8f8d332f', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', '127.0.0.1', False, None, 'password', None, UUID('b8bbced3-97fa-409a-9b48-2d3483c31a30'))
2025-09-10 01:01:06,395 - app.services.auth_service - INFO - User session created with ID: b8bbced3-97fa-409a-9b48-2d3483c31a30
2025-09-10 01:01:06,396 - app.services.auth_service - INFO - Login history entry created
2025-09-10 01:01:06,396 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_history (user_id, session_id, login_type, result, email_attempted, username_attempted, ip_address, user_agent, device_fingerprint, country, city, risk_score, is_suspicious, failure_reason, mfa_method, mfa_successful, duration_ms, id) VALUES ($1::UUID, $2::UUID, $3::login_type_enum, $4::login_result_enum, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::VARCHAR, $10::VARCHAR, $11::VARCHAR, $12::FLOAT, $13::BOOLEAN, $14::VARCHAR, $15::VARCHAR, $16::BOOLEAN, $17::INTEGER, $18::UUID) RETURNING login_history.created_at, login_history.updated_at
2025-09-10 01:01:06,397 - sqlalchemy.engine.Engine - INFO - [cached since 224.3s ago] (UUID('72fa18f6-a30e-4ad8-9a30-ba1d4bedc09f'), UUID('b8bbced3-97fa-409a-9b48-2d3483c31a30'), 'password', 'success', 'finaltest@example.com', None, '127.0.0.1', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768', None, None, None, None, False, None, None, None, 7, UUID('d0d5d806-5150-486a-852b-99429e204726'))
2025-09-10 01:01:06,399 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 01:01:06,401 - app.services.auth_service - INFO - User registration completed successfully for finaltest@example.com
2025-09-10 01:01:06,402 - app.middleware.auth - ERROR - Request failed: POST /api/v1/auth/register - Error: 1 validation error for AuthResponse
tokens
  Field required [type=missing, input_value={'message': 'User registe...10-10T05:01:06.388706'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing - Time: 0.122s - IP: 127.0.0.1 - User-Agent: Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.4768
2025-09-10 01:01:06,403 - main - ERROR - Unexpected error: 1 validation error for AuthResponse
tokens
  Field required [type=missing, input_value={'message': 'User registe...10-10T05:01:06.388706'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 77, in collapse_excgroups
  |     yield
  |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 183, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\anyio\_backends\_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 53, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 132, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |                                    ~~~~~~~~~~~~~~~~~~^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    |     self.gen.throw(value)
    |     ~~~~~~~~~~~~~~^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 158, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    |     raise app_exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 716, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 736, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 290, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 78, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 75, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 302, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |     ...<3 lines>...
    |     )
    |     ^
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\api\v1\auth\endpoints.py", line 111, in register
    |     return AuthResponse(**result)
    |   File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 253, in __init__
    |     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
    | pydantic_core._pydantic_core.ValidationError: 1 validation error for AuthResponse
    | tokens
    |   Field required [type=missing, input_value={'message': 'User registe...10-10T05:01:06.388706'}}, input_type=dict]
    |     For further information visit https://errors.pydantic.dev/2.11/v/missing
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 53, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 132, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 182, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_utils.py", line 83, in collapse_excgroups
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 184, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\middleware\auth.py", line 158, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 159, in call_next
    raise app_exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\trustedhost.py", line 51, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\gouth\OneDrive\Documents\AI Projects\User Authentication Systems\backend\app\api\v1\auth\endpoints.py", line 111, in register
    return AuthResponse(**result)
  File "C:\Users\gouth\AppData\Local\Programs\Python\Python313\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for AuthResponse
tokens
  Field required [type=missing, input_value={'message': 'User registe...10-10T05:01:06.388706'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-09-10 01:01:55,232 - app.core.database - INFO - Closing database connections. Final pool stats: {'pool_size': <bound method QueuePool.size of <sqlalchemy.pool.impl.AsyncAdaptedQueuePool object at 0x0000022DE64D92B0>>, 'checked_in': 0, 'checked_out': 0, 'overflow': -4, 'invalid': 0}
