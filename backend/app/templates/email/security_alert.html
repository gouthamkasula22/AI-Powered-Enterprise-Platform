{% extends "base.html" %}

{% block content %}
<h2>Security Alert: {{ alert_type }}</h2>

<p>Hello {{ user_name }},</p>

<p>We detected unusual activity on your {{ app_name }} account and wanted to notify you immediately.</p>

<div class="security-notice">
    <strong>Alert Details:</strong><br>
    <strong>Type:</strong> {{ alert_type }}<br>
    <strong>Time:</strong> {{ timestamp }}<br>
    {% if details.ip_address %}
    <strong>IP Address:</strong> {{ details.ip_address }}<br>
    {% endif %}
    {% if details.location %}
    <strong>Location:</strong> {{ details.location }}<br>
    {% endif %}
    {% if details.device %}
    <strong>Device:</strong> {{ details.device }}<br>
    {% endif %}
</div>

{% if alert_type == "Suspicious Login" %}
<p>Someone attempted to sign in to your account from an unrecognized device or location.</p>

<p><strong>What should you do?</strong></p>
<ul>
    <li>🔒 If this was you, no action is needed</li>
    <li>🚨 If this wasn't you, change your password immediately</li>
    <li>✅ Review your recent account activity</li>
    <li>🔐 Enable two-factor authentication if not already active</li>
</ul>

{% elif alert_type == "Password Changed" %}
<p>Your account password was successfully changed.</p>

<p><strong>What should you do?</strong></p>
<ul>
    <li>🔒 If you made this change, no action is needed</li>
    <li>🚨 If you didn't change your password, contact support immediately</li>
    <li>✅ Review your account for any unauthorized changes</li>
    <li>🔐 Consider enabling additional security measures</li>
</ul>

{% elif alert_type == "Multiple Failed Logins" %}
<p>We detected multiple failed login attempts on your account.</p>

<p><strong>What should you do?</strong></p>
<ul>
    <li>🔒 If you were having trouble logging in, try resetting your password</li>
    <li>🚨 If you weren't trying to log in, someone may be trying to access your account</li>
    <li>✅ Consider changing your password as a precaution</li>
    <li>🔐 Enable two-factor authentication for extra security</li>
</ul>

{% else %}
<p>We detected activity that may require your attention.</p>

<p><strong>Recommended actions:</strong></p>
<ul>
    <li>✅ Review your recent account activity</li>
    <li>🔒 Change your password if you suspect unauthorized access</li>
    <li>🔐 Enable additional security features</li>
    <li>📞 Contact support if you have concerns</li>
</ul>
{% endif %}

<div style="text-align: center; margin: 30px 0;">
    <a href="{{ settings.FRONTEND_URL }}/dashboard/security" class="button">Review Account Security</a>
</div>

<p>If you have any questions or concerns about this alert, please don't hesitate to contact our security team.</p>

<p>Stay secure,<br>
The {{ app_name }} Security Team</p>

<hr style="border: none; border-top: 1px solid #eee; margin: 30px 0;">

<p style="font-size: 12px; color: #999;">
This is an automated security notification. Please do not reply to this email.
</p>
{% endblock %}
